# Apache Superset

:::: {tab-set}

::: {tab-item} 3.0.1

[![superset](badges/release-3.0.1-blue.svg)](https://cloud.sdu.dk/app/jobs/create?app=superset&version=3.0.1)
![type](badges/type-interactive-yellow.svg)
![access](badges/access-open-green.svg)
* **Operating System:** ![](./badges/Ubuntu-22.04-lightseagreen.svg)
* **Terminal:** ![](./badges/tini-0.19.0-lightseagreen.svg) ![](./badges/tmux-3.2a-lightseagreen.svg)
* **Shell:** ![](./badges/bash-5.1.16-lightseagreen.svg) ![](./badges/fish-3.3.1-lightseagreen.svg) ![](./badges/zsh-5.8.1-lightseagreen.svg)
* **Editor:** ![](./badges/emacs-27.1-lightseagreen.svg) ![](./badges/nano-6.2-lightseagreen.svg) ![](./badges/vim-8.2-lightseagreen.svg)
* **Package Manager:** ![](./badges/apt-2.4.10-lightseagreen.svg) ![](./badges/conda-23.3.1-lightseagreen.svg) ![](./badges/dpkg-1.21.1-lightseagreen.svg) ![](./badges/npm-8.5.1-lightseagreen.svg) ![](./badges/pip-23.2.1-lightseagreen.svg)
* **Programming Language:** ![](./badges/GCC-11.4.0-lightseagreen.svg) ![](./badges/Python-3.10.12-lightseagreen.svg)
* **Utility:** ![](./badges/EasyBuild-4.8.0-lightseagreen.svg) ![](./badges/Lmod-8.7-lightseagreen.svg)
* **Extension:** ![](./badges/OpenMPI-4.1.2-lightseagreen.svg)
* **Database:** ![](./badges/MySQL-15.1-lightseagreen.svg) ![](./badges/PostgreSQL-16.0-lightseagreen.svg) ![](./badges/Redis-7.0.11-lightseagreen.svg)

:::

::: {tab-item} 2.1.1

[![superset](badges/release-2.1.1-blue.svg)](https://cloud.sdu.dk/app/jobs/create?app=superset&version=2.1.1)
![type](badges/type-interactive-yellow.svg)
![access](badges/access-open-green.svg)
* **Operating System:** ![](./badges/Ubuntu-22.04-lightseagreen.svg)
* **Terminal:** ![](./badges/tini-0.19.0-lightseagreen.svg) ![](./badges/tmux-3.2a-lightseagreen.svg)
* **Shell:** ![](./badges/bash-5.1.16-lightseagreen.svg) ![](./badges/fish-3.3.1-lightseagreen.svg) ![](./badges/zsh-5.8.1-lightseagreen.svg)
* **Editor:** ![](./badges/emacs-27.1-lightseagreen.svg) ![](./badges/nano-6.2-lightseagreen.svg) ![](./badges/vim-8.2-lightseagreen.svg)
* **Package Manager:** ![](./badges/apt-2.4.10-lightseagreen.svg) ![](./badges/conda-23.3.1-lightseagreen.svg) ![](./badges/dpkg-1.21.1-lightseagreen.svg) ![](./badges/npm-8.5.1-lightseagreen.svg) ![](./badges/pip-23.2.1-lightseagreen.svg)
* **Programming Language:** ![](./badges/GCC-11.4.0-lightseagreen.svg) ![](./badges/Python-3.10.12-lightseagreen.svg)
* **Utility:** ![](./badges/EasyBuild-4.8.0-lightseagreen.svg) ![](./badges/Lmod-8.7-lightseagreen.svg)
* **Extension:** ![](./badges/OpenMPI-4.1.2-lightseagreen.svg)

:::

::: {tab-item} 2.0.0

[![superset](badges/release-2.0.0-blue.svg)](https://cloud.sdu.dk/app/jobs/create?app=superset&version=2.0.0)
![type](badges/type-interactive-yellow.svg)
![access](badges/access-open-green.svg)
* **Operating System:** ![](./badges/Debian-11-lightseagreen.svg)
* **Terminal:** ![](./badges/tmux-3.1c-lightseagreen.svg)
* **Shell:** ![](./badges/bash-5.1.4-lightseagreen.svg)
* **Editor:** ![](./badges/emacs-27.1-lightseagreen.svg) ![](./badges/nano-5.4-lightseagreen.svg) ![](./badges/vim-8.2-lightseagreen.svg)
* **Package Manager:** ![](./badges/apt-2.2.4-lightseagreen.svg) ![](./badges/dpkg-1.20.9-lightseagreen.svg) ![](./badges/pip-22.3.1-lightseagreen.svg)
* **Programming Language:** ![](./badges/GCC-10.2.1-lightseagreen.svg) ![](./badges/Python-3.8.12-lightseagreen.svg)
* **Database:** ![](./badges/MySQL-15.1-lightseagreen.svg) ![](./badges/PostgreSQL-14.6-lightseagreen.svg) ![](./badges/Redis-3.5.3-lightseagreen.svg)

:::

::: {tab-item} 1.5.2

[![superset](badges/release-1.5.2-blue.svg)](https://cloud.sdu.dk/app/jobs/create?app=superset&version=1.5.2)
![type](badges/type-interactive-yellow.svg)
![access](badges/access-open-green.svg)
* **Operating System:** ![](./badges/Debian-11-lightseagreen.svg)
* **Terminal:** ![](./badges/tmux-3.1c-lightseagreen.svg)
* **Shell:** ![](./badges/bash-5.1.4-lightseagreen.svg)
* **Editor:** ![](./badges/emacs-27.1-lightseagreen.svg) ![](./badges/nano-5.4-lightseagreen.svg) ![](./badges/vim-8.2-lightseagreen.svg)
* **Package Manager:** ![](./badges/apt-2.2.4-lightseagreen.svg) ![](./badges/dpkg-1.20.9-lightseagreen.svg) ![](./badges/pip-22.3.1-lightseagreen.svg)
* **Programming Language:** ![](./badges/GCC-10.2.1-lightseagreen.svg) ![](./badges/Python-3.8.13-lightseagreen.svg)
* **Database:** ![](./badges/MySQL-15.1-lightseagreen.svg) ![](./badges/PostgreSQL-14.6-lightseagreen.svg) ![](./badges/Redis-3.5.3-lightseagreen.svg)

:::

::: {tab-item} 1.4.2

[![superset](badges/release-1.4.2-blue.svg)](https://cloud.sdu.dk/app/jobs/create?app=superset&version=1.4.2)
![type](badges/type-interactive-yellow.svg)
![access](badges/access-open-green.svg)
* **Operating System:** ![](./badges/Debian-11-lightseagreen.svg)
* **Terminal:** ![](./badges/tmux-3.1c-lightseagreen.svg)
* **Shell:** ![](./badges/bash-5.1.4-lightseagreen.svg)
* **Editor:** ![](./badges/emacs-27.1-lightseagreen.svg) ![](./badges/nano-5.4-lightseagreen.svg) ![](./badges/vim-8.2-lightseagreen.svg)
* **Package Manager:** ![](./badges/apt-2.2.4-lightseagreen.svg) ![](./badges/dpkg-1.20.9-lightseagreen.svg) ![](./badges/pip-21.2.4-lightseagreen.svg)
* **Programming Language:** ![](./badges/GCC-10.2.1-lightseagreen.svg) ![](./badges/Python-3.8.12-lightseagreen.svg)
* **Database:** ![](./badges/MySQL-15.1-lightseagreen.svg) ![](./badges/PostgreSQL-14.2-lightseagreen.svg) ![](./badges/Redis-6.0.16-lightseagreen.svg)

:::

::: {tab-item} 1.3.0

[![superset](badges/release-1.3.0-blue.svg)](https://cloud.sdu.dk/app/jobs/create?app=superset&version=1.3.0)
![type](badges/type-interactive-yellow.svg)
![access](badges/access-open-green.svg)
* **Operating System:** ![](./badges/Debian-10-lightseagreen.svg)
* **Shell:** ![](./badges/bash-5.0.3-lightseagreen.svg)
* **Editor:** ![](./badges/vim-8.1-lightseagreen.svg)
* **Package Manager:** ![](./badges/apt-1.8.2.2-lightseagreen.svg) ![](./badges/dpkg-1.19.7-lightseagreen.svg) ![](./badges/pip-21.0.1-lightseagreen.svg)
* **Programming Language:** ![](./badges/GCC-8.3.0-lightseagreen.svg) ![](./badges/Python-3.7.9-lightseagreen.svg) ![](./badges/Python-2.7.16-lightseagreen.svg)
* **Database:** ![](./badges/MySQL-15.1-lightseagreen.svg) ![](./badges/PostgreSQL-13.4-lightseagreen.svg) ![](./badges/Redis-5.0.3-lightseagreen.svg)

:::

::::

Apache Superset is a modern, intuitive and highly scalable platform to explore and visualize data, from simple line charts to highly detailed geospatial charts.

Superset can connect to any SQL based data source through SQLAlchemy, including modern cloud native databases and engines at petabyte scale.

For more information, check [here](https://superset.apache.org).

## Log in to Superset

By default it is possible to access superset as *Administrator* with username and password: **admin** **admin**.
A different password can be choosen through the app optional parameters.
The username can be changed from the Superset interface.

Admins have all possible rights, including granting or revoking rights from other users and altering other people’s slices and dashboards.
New users as well as customized role and permissions can be created through the superset interface.

## Mandatory Parameters

As mandatory parameter one needs to specify the path to the Superset home directory where the `superset_config.py` file is located. This directory is associated with the `$SUPERSET_HOME` environment variable. By default, the application will save/access the necessary databases in this directory.
If the provided directory is empty, a `superset_config.py` file will be created with default settings.

The user can create his/her own file to configure the application:
All the parameters defined in the [config.py](https://github.com/apache/superset/blob/master/superset/config.py) file can be altered in  `superset_config.py`.


## Connect to databases

The application start [PostgreSQL](https://www.postgresql.org/). The PostgreSQL data directory is by default located in the `$SUPERSET_HOME` folder. A pre-existing Postgres directory can be selected by specifying the path, through the corresponding optional parameter.

By default the Postgres user is *superset*, the default password is *superset*, and the name of the accessible database is also *superset*.

In order to create a new Postgres user and password  and/or choose the name for a new Postgres database on which the Postgres user has been granted privileges, the user can use the app [terminal interface](../guide/submitting.md#job-running), e.g.:

```console
$  psql -c "create user $psuser with encrypted password '$pspass';"
$  psql -c "grant all privileges on database $postgres_db to $psuser;"
```

In addition to PostgreSQL it is possible to install the required packages for the different database choices (Presto, MySQL, Oracle, Elasticsearch, Snowflake, ...) as well as the packages needed to connect to the databases through the _Additional Dependencies_ parameter.

An example of the *local* PostgresSQL database connection string is as follows:

```postgres
postgresql+psycopg2://{username}:{password}@0.0.0.0:5432/{database}
```

It can be added either through the Superset GUI or through the configuration file `superset_config.py` (see the [Superset documentation](https://superset.apache.org) for different databases).

The following video shows how to connect to the postgres database from the superset interface and how to enable the upload of a csv file.

<video width=100% controls>
  <source src="../superset-postgres-csv.mov" type="video/mp4">
</video>

## Caching

By default the application starts a Redis server for caching service.

Superset uses Flask-Caching for caching purpose which supports various caching backends, including Redis, Memcached, SimpleCache (in-memory), or the local filesystem.
The necessary libraries can be installed through the *Initialization* parameter.

It is possible to customize the superset cache configuration specifying the related variables in the `superset_config.py` file, as described [here](https://superset.apache.org/docs/installation/cache/).

## Gunicorn settings

Several parameters can be tuned through the app optional parameters in order to optimize the Gunicorn config, including the worker class, the number of workers and threads, see [here](https://docs.gunicorn.org/en/stable/settings.html) for details.

## Async queries via Celery

To enable support for long running queries that execute beyond the typical web request’s timeout (30-60 seconds), it is possible to configure Celery by modifying the `superset_config.py` as described [here](https://superset.apache.org/docs/installation/async-queries-celery/).

In addition it is necessary to start the related services.
The option *-c* , namely *Start Celery worker*, starts a Celery worker to leverage the configuration,  through the command

```console
celery --app=superset.tasks.celery_app:app worker --pool=prefork -O fair -c 4
```

The option *-d*, namely *Start Celery beat*, starts a job which schedules periodic background jobs, through the command:

```console
celery --app=superset.tasks.celery_app:app beat
```
