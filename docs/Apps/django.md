# Django

:::: {tab-set}

::: {tab-item} 4.2.7

[![](badges/release-4.2.7-blue.svg)](https://cloud.sdu.dk/app/jobs/create?app=django&version=4.2.7)
![type](badges/type-interactive-yellow.svg)
![access](badges/access-open-green.svg)
* **Operating System:** ![](./badges/Ubuntu-22.04-lightseagreen.svg)
* **Terminal:** ![](./badges/tini-0.19.0-lightseagreen.svg) ![](./badges/tmux-3.2a-lightseagreen.svg)
* **Shell:** ![](./badges/bash-5.1.16-lightseagreen.svg) ![](./badges/fish-3.3.1-lightseagreen.svg) ![](./badges/zsh-5.8.1-lightseagreen.svg)
* **Editor:** ![](./badges/emacs-27.1-lightseagreen.svg) ![](./badges/nano-6.2-lightseagreen.svg) ![](./badges/vim-8.2-lightseagreen.svg)
* **Package Manager:** ![](./badges/apt-2.4.10-lightseagreen.svg) ![](./badges/conda-23.3.1-lightseagreen.svg) ![](./badges/dpkg-1.21.1-lightseagreen.svg) ![](./badges/npm-8.5.1-lightseagreen.svg) ![](./badges/pip-23.2.1-lightseagreen.svg)
* **Programming Language:** ![](./badges/GCC-11.4.0-lightseagreen.svg) ![](./badges/OpenJDK-11.0.20.1-lightseagreen.svg) ![](./badges/Python-3.10.12-lightseagreen.svg)
* **Database:** ![](./badges/MariaDB-15.1-lightseagreen.svg) ![](./badges/MySQL-15.1-lightseagreen.svg) ![](./badges/PostgreSQL-14.9-lightseagreen.svg) ![](./badges/Redis-6.0.16-lightseagreen.svg) ![](./badges/SQLite-3.37.2-lightseagreen.svg)
* **Utility:** ![](./badges/EasyBuild-4.8.0-lightseagreen.svg) ![](./badges/Lmod-8.7-lightseagreen.svg)
* **Extension:** ![](./badges/OpenMPI-4.1.2-lightseagreen.svg)

:::

::: {tab-item} 4.2.2

[![](badges/release-4.2.2-blue.svg)](https://cloud.sdu.dk/app/jobs/create?app=django&version=4.2.2)
![type](badges/type-interactive-yellow.svg)
![access](badges/access-open-green.svg)
* **Operating System:** ![](./badges/Ubuntu-22.10-lightseagreen.svg)
* **Terminal:** ![](./badges/tini-0.19.0-lightseagreen.svg) ![](./badges/tmux-3.3a-lightseagreen.svg)
* **Shell:** ![](./badges/bash-5.2.2-lightseagreen.svg) ![](./badges/fish-3.5.1-lightseagreen.svg) ![](./badges/zsh-5.9-lightseagreen.svg)
* **Editor:** ![](./badges/emacs-27.1-lightseagreen.svg) ![](./badges/nano-6.4-lightseagreen.svg) ![](./badges/vim-9.0-lightseagreen.svg)
* **Package Manager:** ![](./badges/apt-2.5.3-lightseagreen.svg) ![](./badges/conda-23.1.0-lightseagreen.svg) ![](./badges/dpkg-1.21.9-lightseagreen.svg) ![](./badges/npm-8.18.0-lightseagreen.svg) ![](./badges/pip-23.0.1-lightseagreen.svg)
* **Programming Language:** ![](./badges/GCC-12.2.0-lightseagreen.svg) ![](./badges/OpenJDK-11.0.19-lightseagreen.svg) ![](./badges/Python-3.10.10-lightseagreen.svg) ![](./badges/Python-2.7.18-lightseagreen.svg)
* **Database:** ![](./badges/MySQL-15.1-lightseagreen.svg) ![](./badges/PostgreSQL-14.8-lightseagreen.svg) ![](./badges/Redis-7.0.4-lightseagreen.svg) ![](./badges/SQLite-3.39.3-lightseagreen.svg)
* **Utility:** ![](./badges/Lmod-8.7-lightseagreen.svg)
* **Extension:** ![](./badges/OpenMPI-4.1.4-lightseagreen.svg)

:::

::: {tab-item} 4.1.7

[![](badges/release-4.1.7-blue.svg)](https://cloud.sdu.dk/app/jobs/create?app=django&version=4.1.7)
![type](badges/type-interactive-yellow.svg)
![access](badges/access-open-green.svg)
* **Operating System:** ![](./badges/Ubuntu-22.10-lightseagreen.svg)
* **Terminal:** ![](./badges/tmux-3.3a-lightseagreen.svg)
* **Shell:** ![](./badges/bash-5.2.2-lightseagreen.svg)
* **Editor:** ![](./badges/emacs-27.1-lightseagreen.svg) ![](./badges/nano-6.4-lightseagreen.svg) ![](./badges/vim-9.0-lightseagreen.svg)
* **Package Manager:** ![](./badges/apt-2.5.3-lightseagreen.svg) ![](./badges/dpkg-1.21.9-lightseagreen.svg) ![](./badges/npm-8.18.0-lightseagreen.svg) ![](./badges/pip-23.0.1-lightseagreen.svg)
* **Programming Language:** ![](./badges/GCC-12.2.0-lightseagreen.svg) ![](./badges/Python-3.10.9-lightseagreen.svg)
* **Database:** ![](./badges/MySQL-15.1-lightseagreen.svg) ![](./badges/PostgreSQL-14.7-lightseagreen.svg) ![](./badges/Redis-7.0.4-lightseagreen.svg) ![](./badges/SQLite-3.39.3-lightseagreen.svg)

:::

::: {tab-item} 4.1.2

[![](badges/release-4.1.2-blue.svg)](https://cloud.sdu.dk/app/jobs/create?app=django&version=4.1.2)
![type](badges/type-interactive-yellow.svg)
![access](badges/access-open-green.svg)
* **Operating System:** ![](./badges/Debian-11-lightseagreen.svg)
* **Terminal:** ![](./badges/tmux-3.1c-lightseagreen.svg)
* **Shell:** ![](./badges/bash-5.1.4-lightseagreen.svg)
* **Editor:** ![](./badges/emacs-27.1-lightseagreen.svg) ![](./badges/nano-5.4-lightseagreen.svg) ![](./badges/vim-8.2-lightseagreen.svg)
* **Package Manager:** ![](./badges/apt-2.2.4-lightseagreen.svg) ![](./badges/dpkg-1.20.12-lightseagreen.svg) ![](./badges/npm-7.5.2-lightseagreen.svg) ![](./badges/pip-22.3-lightseagreen.svg)
* **Programming Language:** ![](./badges/GCC-10.2.1-lightseagreen.svg) ![](./badges/Python-3.11.0-lightseagreen.svg)
* **Database:** ![](./badges/MySQL-15.1-lightseagreen.svg) ![](./badges/PostgreSQL-13.8-lightseagreen.svg) ![](./badges/Redis-6.0.16-lightseagreen.svg) ![](./badges/SQLite-3.34.1-lightseagreen.svg)

:::

::: {tab-item} 3.2.3

[![](badges/release-3.2.3-blue.svg)](https://cloud.sdu.dk/app/jobs/create?app=django&version=3.2.3)
![type](badges/type-interactive-yellow.svg)
![access](badges/access-open-green.svg)
* **Operating System:** ![](./badges/Debian-10-lightseagreen.svg)
* **Shell:** ![](./badges/bash-5.0.3-lightseagreen.svg)
* **Editor:** ![](./badges/emacs-26.1-lightseagreen.svg) ![](./badges/nano-3.2-lightseagreen.svg) ![](./badges/vim-8.1-lightseagreen.svg)
* **Package Manager:** ![](./badges/apt-1.8.2.3-lightseagreen.svg) ![](./badges/dpkg-1.19.7-lightseagreen.svg) ![](./badges/npm-5.8.0-lightseagreen.svg) ![](./badges/pip-21.1.2-lightseagreen.svg)
* **Programming Language:** ![](./badges/GCC-8.3.0-lightseagreen.svg) ![](./badges/Python-3.9.5-lightseagreen.svg) ![](./badges/Python-2.7.16-lightseagreen.svg)
* **Database:** ![](./badges/MySQL-15.1-lightseagreen.svg) ![](./badges/PostgreSQL-11.12-lightseagreen.svg) ![](./badges/Redis-5.0.3-lightseagreen.svg) ![](./badges/SQLite-3.27.2-lightseagreen.svg)

:::

::::

Django is a Python-based web framework whose primary goal is to ease the creation of complex, database-driven websites.

For more information, check the official documentation [here](https://docs.djangoproject.com/en/4.1/).

The Django applications comes with the following options:

- *Project directory* (mandatory), points to the Django project directory. In the case of a new project, an empty directory can be pointed to.
- *Initialization*, allows to execute a Bash script when the job starts. The script can be used to install additional software and set up the workspace environment. This parameter can also accept a \*.txt file with a list of Python packages to be installed.
- *Port*, allows to change port to be exposed (default: 8000).
- *Deployment*, run in deployment mode. This parameter takes a bash script including a startup command for the Django application.
- *Configure custom links to your application*, expose the Django application to a public link.

The application by default starts in development mode, namely the *Deployment* parameter is not used and the server needs to be deployed from the terminal interface.

## Create new Django application

In development mode, a new Django project can be initiated by running the following command from the app [terminal interface](../guide/submitting.md#job-running):

```console
$ django-admin startproject my_project
```

which will create a *new* directory called `my_project`.
This folder contains a collection of settings for an instance of Django, including database configuration, Django-specific options and application-specific settings.
The structure of the folder is:

```text
my_project
├── my_project
│   ├── urls.py
│   ├── wsgi.py
│   ├── __init__.py
│   ├── settings.py
│   ├── asgi.py
│   └── file4
└── manage.py
```

where the inner `my_project` folder contains the actual Python package for the project.
The project configuration is defined in the module `settings.py`.
The module `manage.py` provides a set of Django command-line utilities.

## Running the Django server

In development mode, the server can be deployed directly via the terminal interface.
Within the Django project folder (e.g., `my_project`), this is accomplished using the command:

```console
$ python manage.py runserver
```

``` {tip}
<br>
Watching for file changes with StatReloader
<br>
Performing system checks...
<br>
<br>
System check identified no issues (0 silenced).
<br>
June 10, 2021 - 08:32:54
<br>
Django version 3.2.4, using settings 'my_project.settings'
<br>
Starting development server at http://127.0.0.1:8000/
<br>
Quit the server with CONTROL-C.
```

In deployment mode, the user can pass a Bash script via the *Deployment* parameter, which will start the web interface soon after the job is submitted.
For example:

```shell
#!/usr/bin/env bash

set -eux

python manage.py runserver
```

To access the Django application interface, the host address need to be added to `ALLOWED_HOSTS` in the `settings.py` file, e.g.

```python
ALLOWED_HOSTS = ["LINK_TO_DJANGO_APP"]
```

The script will be executed within the Django project directory.
Afterwards, the web interface will be accessible by clicking on

{{ btn_open_interface }}

``` {important}
If the Django Applications should be accessible to other people, then the Django UCloud App should be launched using the *Configure custom links to your application* parameter.
```

## Change the server's port

By default, the web server is deployed on port `8000`.
The port can be changed either by including these lines of code in the module `manage.py`:

```python
from django.core.management.commands.runserver import Command as runserver

runserver.default_port = "3000"
```

or by adding the new port via command-line utility `runserver`:

```console
$ python manage.py runserver 3000
```

``` {important}
The new server's port must be also specified via the *Port* parameter, before submitting the job.
```

## Initialization

For information on how to use the *Initialization* parameter, please refer to the [Initialization - Bash script](../hands-on/init-sh.md) and [Initialization - pip packages](../hands-on/init-pip.md) section of the documentation.
